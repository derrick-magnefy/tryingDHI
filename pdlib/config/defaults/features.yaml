# Feature Configuration
# Default feature selections for PD analysis

pulse_features:
  # All available pulse-level features extracted from waveforms
  available:
    # Time-domain features
    - phase_angle
    - peak_amplitude_positive
    - peak_amplitude_negative
    - absolute_amplitude
    - polarity
    - rise_time
    - fall_time
    - pulse_width
    - slew_rate
    # Energy features
    - energy
    - charge
    - equivalent_time
    - equivalent_bandwidth
    - cumulative_energy_peak
    - cumulative_energy_rise_time
    - cumulative_energy_shape_factor
    - cumulative_energy_area_ratio
    # Frequency-domain features
    - dominant_frequency
    - center_frequency
    - bandwidth_3db
    - spectral_power_low
    - spectral_power_high
    - spectral_flatness
    - spectral_entropy
    # Amplitude statistics
    - peak_to_peak_amplitude
    - rms_amplitude
    - crest_factor
    - rise_fall_ratio
    - zero_crossing_count
    - oscillation_count
    - energy_charge_ratio
    - signal_to_noise_ratio
    - pulse_count
    - is_multi_pulse
    # Normalized features (scale-independent)
    - norm_absolute_amplitude
    - norm_peak_amplitude_positive
    - norm_peak_amplitude_negative
    - norm_peak_to_peak_amplitude
    - norm_rms_amplitude
    - norm_slew_rate
    - norm_energy
    - norm_charge
    - norm_rise_time
    - norm_fall_time
    - norm_equivalent_time
    - norm_equivalent_bandwidth
    - norm_cumulative_energy_rise_time
    - norm_pulse_width
    - norm_dominant_frequency
    - norm_center_frequency
    - norm_bandwidth_3db
    - norm_zero_crossing_rate
    - norm_oscillation_rate

  # Default features for clustering (subset that works well)
  # NOTE: This list is used by both the GUI and run_analysis_pipeline.py
  # Excluding phase_angle by default as it can dominate clustering results
  default_clustering:
    - absolute_amplitude
    - rise_time
    - fall_time
    - pulse_width
    - slew_rate
    - energy
    - dominant_frequency
    - spectral_power_low
    - spectral_power_high
    - crest_factor
    - oscillation_count
    - norm_slew_rate
    - norm_energy
    - norm_rise_time

  # Default feature weights for clustering (1.0 = normal weight)
  default_weights:
    phase_angle: 1.0
    energy: 1.0
    dominant_frequency: 1.0
    # Add custom weights here when tuning

cluster_features:
  # Cluster-level aggregated features
  available:
    # PRPD pattern features
    - pulses_per_positive_halfcycle
    - pulses_per_negative_halfcycle
    - pulses_per_cycle
    - cross_correlation
    - discharge_asymmetry
    # Distribution statistics
    - skewness_Hn_positive
    - skewness_Hn_negative
    - kurtosis_Hn_positive
    - kurtosis_Hn_negative
    - skewness_Hqn_positive
    - skewness_Hqn_negative
    - kurtosis_Hqn_positive
    - kurtosis_Hqn_negative
    # Amplitude statistics
    - mean_amplitude_positive
    - mean_amplitude_negative
    - max_amplitude_positive
    - max_amplitude_negative
    # Phase statistics
    - phase_spread
    - phase_of_max_activity
    - quadrant_1_percentage
    - quadrant_2_percentage
    - quadrant_3_percentage
    - quadrant_4_percentage
    # Weibull distribution
    - weibull_alpha
    - weibull_beta
    # Correlation features
    - amplitude_phase_correlation
    - repetition_rate
    - coefficient_of_variation
    # Pulse aggregates (mean/trimmed mean of pulse features)
    - slew_rate_mean
    - spectral_flatness_mean
    - spectral_power_ratio_mean
    - crest_factor_mean
    - oscillation_count_mean
    - dominant_frequency_mean

  # Default features for classification
  default_classification:
    - discharge_asymmetry
    - cross_correlation
    - phase_spread
    - phase_of_max_activity
    - coefficient_of_variation
    - weibull_beta
    - spectral_flatness_mean
    - slew_rate_mean
